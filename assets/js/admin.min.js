jQuery(document).ready(function(e){"use strict";if(e(".timeapp-color-picker").length&&e(".timeapp-color-picker").wpColorPicker(),e(".timeapp_settings_upload_button").length){e("body").on("click",".timeapp_settings_upload_button",function(a){a.preventDefault();var i=e(this);return window.formfield=e(this).parent().prev(),t?void t.open():(t=wp.media.frames.file_frame=wp.media({frame:"post",state:"insert",title:i.data("uploader_title"),button:{text:i.data("uploader_button_text")},multiple:!1}),t.on("menu:render:default",function(e){var t={};e.unset("library-separator"),e.unset("gallery"),e.unset("featured-image"),e.unset("embed"),e.set(t)}),t.on("insert",function(){var e=t.state().get("selection");e.each(function(e,t){e=e.toJSON(),window.formfield.val(e.url)})}),void t.open())});var t;window.formfield=""}e(".post-type-play #title").attr("disabled","disabled"),e(".post-type-play #title").attr("readonly","readonly"),""===e(".post-type-play #title").val()&&e(".post-type-play #title").val(timeapp_vars.title_placeholder),e(function(){e("#_timeapp_rider").length>0&&e("form").attr("enctype","multipart/form-data")}),e(".post-type-play input").change(function(){e(".colorbox").css("display","none")}),e(".post-type-play select").change(function(){e(".colorbox").css("display","none")}),e(".post-type-play textarea").change(function(){e(".colorbox").css("display","none")}),e(".colorbox").colorbox({inline:!0,href:"#timeapp-pdf-preview",maxWidth:"650px",maxHeight:"75%",closeButton:!1});e(".timeapp-datetime").datetimepicker({timeFormat:"h:mm tt",stepMinute:15}),e(".timeapp-select2").select2(),e("#_timeapp_agent").select2({placeholder:timeapp_vars.select_agent}),e("#_timeapp_purchaser").select2({placeholder:timeapp_vars.select_purchaser}),e(".post-type-agent .timeapp-save").click(function(t){t.preventDefault(),e("#publish").click(),e(".colorbox").css("display","inline-block")}),e(".post-type-play .timeapp-save").click(function(t){var a,i,p,n,s,l;a=e("input[name='_timeapp_start_date']").val(),i=e("input[name='_timeapp_end_date']").val(),p=e("select[name='_timeapp_type'] option:selected").val(),n=e("select[name='_timeapp_purchaser'] option:selected").val(),s=e("select[name='_timeapp_artist'] option:selected").val(),(""===a||""===i||""===p||""===n||""===s)&&(l=timeapp_vars.required_fields,alert(l)),t.preventDefault(),e("#publish").click()}),e(".post-type-purchaser .timeapp-save").click(function(t){var a,i,p,n,s,l,c,o;a=e("input[name='_timeapp_first_name']").val(),i=e("input[name='_timeapp_last_name']").val(),p=e("input[name='_timeapp_email']").val(),n=e("input[name='_timeapp_address']").val(),s=e("input[name='_timeapp_city']").val(),l=e("select[name='_timeapp_state'] option:selected").val(),c=e("input[name='_timeapp_zip']").val(),(""===a||""===i||""===p||""===n||""===s||""===l||""===c)&&(o=timeapp_vars.required_fields,alert(o)),t.preventDefault(),e("#publish").click()}),e(".post-type-artist .timeapp-save").click(function(t){var a,i,p,n;a=e("input[name='_timeapp_signer_name']").val(),i=e("input[name='_timeapp_artist_email']").val(),p=e("input[name='_timeapp_tax_id']").val(),(""===a||""===i||""===p)&&(n=timeapp_vars.required_fields,alert(n)),t.preventDefault(),e("#publish").click()}),e("input[name='_timeapp_bonus']").change(function(){e(this).is(":checked")?e("input[name='_timeapp_bonus_details']").closest("p").css("display","block"):e("input[name='_timeapp_bonus_details']").closest("p").css("display","none")}),e("input[name='_timeapp_deposit']").change(function(){e(this).is(":checked")?e("#timeapp-deposits").css("display","block"):e("#timeapp-deposits").css("display","none")}),e("input[name='_timeapp_production']").change(function(){e(this).is(":checked")?e("input[name='_timeapp_production_cost']").closest("p").css("display","none"):e("input[name='_timeapp_production_cost']").closest("p").css("display","block")}),e("input[name='_timeapp_split_comm']").change(function(){e(this).is(":checked")?e("input[name='_timeapp_split_perc']").closest("div").css("display","block"):e("input[name='_timeapp_split_perc']").closest("div").css("display","none")}),e("input[name='_timeapp_signatory']").change(function(){e(this).is(":checked")?e("#contract_signatory").css("display","block"):e("#contract_signatory").css("display","none")}),e("input[name='_timeapp_signatory']").is(":checked")?e("#contract_signatory").css("display","block"):e("#contract_signatory").css("display","none"),e("input[name='_timeapp_alt_mailing']").change(function(){e(this).is(":checked")?e("#mailing_address").css("display","block"):e("#mailing_address").css("display","none")}),e("input[name='_timeapp_alt_mailing']").is(":checked")?e("#mailing_address").css("display","block"):e("#mailing_address").css("display","none"),e(".timeapp-contract-log-toggle").click(function(){e(".timeapp-contract-log").is(":visible")?e(".timeapp-contract-log").css("display","none"):e(".timeapp-contract-log").css("display","block")})});
